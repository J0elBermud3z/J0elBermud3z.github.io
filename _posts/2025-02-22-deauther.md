---
layout: single
title: "WiFi Deauther: La t√©cnica para interrumpir conexiones WiFi al instante"
excerpt: "Explicaci√≥n del ataque deautenticaci√≥n en redes WiFi y c√≥mo construir un Deauther con un ESP8266."
date: 2025-02-22
classes: wide
header:
  teaser: /assets/images/DEAUTHER/hacking.png
  teaser_home_page: true
  icon: 
categories:
  - Hacking
  - WiFi Security
tags:
  - WiFi
  - Pentesting
  - ESP8266
---

![](/assets/images/DEAUTHER/hacking.png)

**‚ö†Ô∏è Advertencia:** Este art√≠culo tiene fines educativos. El objetivo es entender c√≥mo funcionan las redes WiFi y sus vulnerabilidades para mejorar la seguridad. No me hago responsable del uso indebido de esta informaci√≥n. **Estas t√©cnicas en redes ajenas sin permiso  puede tener consecuencias legales.**

Hoy les voy a ense√±ar c√≥mo crear un dispositivo llamado **"WiFi Deauther"**. Pero antes de meternos en la parte pr√°ctica, es clave entender algunos conceptos fundamentales.


### ¬øQu√© pasa cuando alguien se desconecta de una red WiFi?

---

Para entender esto, primero debemos hablar del est√°ndar **802.11**, que es el que se utiliza en las redes WiFi. Dentro de este est√°ndar existen varios **frames** (imaginemos que son como "sobres" que llevan la informaci√≥n necesaria para que los dispositivos entiendan que hacer con los datos que reciben). Uno de los frames m√°s importantes es el **Deauthentication frame**, que es el encargado de cortar una conexi√≥n WiFi.

Tanto el **cliente** (Un celular, laptop, etc.) como el **punto de acceso** (**AP**) (el router o cualquier otro dispositivo que emita la se√±al WiFi) tienen la capacidad de enviar este frame. Dentro de este frame viaja un dato crucial llamado **MAC** (un identificador √∫nico en la red, por ejemplo, 00:1A:2B:3C:4D:5E). La direcci√≥n **MAC** es fundamental en el **Deauthentication frame**, ya que gracias a la **MAC** el **AP** puede identificar a que cliente desconectar.

### **Paso a paso de la desconexi√≥n:**

1 **El cliente manda un frame de Deauthentication al AP.**

![](/assets/images/DEAUTHER/wifi_1.png)

2 **El AP recibe este frame y desconecta al cliente al instante.**
    
![](/assets/images/DEAUTHER/wifi_2.png)
    
3  **El AP realiza las siguientes acciones:**

  - Elimina toda la informaci√≥n de autenticaci√≥n asociada al cliente.
  - Deja de reenviar paquetes entre el cliente y la red.    
  
  ![](/assets/images/DEAUTHER/wifi_3.png)


---

### **¬øCu√°l es el problema con todo esto?**

Uno de los problemas del est√°ndar **802.11** es que, a diferencia de otros protocolos, las conexiones **no siempre est√°n cifradas**. Esto significa que cualquier persona con el equipo adecuado puede **interceptar y analizar el tr√°fico entre dispositivos conectados por WiFi**. **Ojo**, esto solo afecta a los dispositivos que est√°n conectados de forma inal√°mbrica. Un atacante podr√≠a ver que dispositivos est√°n en la red y hacia d√≥nde se conectan, pero no necesariamente el contenido exacto de esas conexiones.

---


## Explicando el ataque "Deauthentication Attack"


Aprovechando que **802.11** no cifra todas las comunicaciones, podemos realizar un ataque para desconectar dispositivos de la red. Este ataque se llama **"Deauth Attack"** y funciona de la siguiente forma:

1. Usando un adaptador de red WiFi, el atacante puede escuchar todo el tr√°fico que viaja por el aire (s√≠, constantemente todos los dispositivos est√°n enviando datos, pero no es algo que podamos ver).
    
![](/assets/images/DEAUTHER/hacker_1.png)


**2. Captura y filtrado del tr√°fico.**

Una vez capturado el tr√°fico, el atacante filtra y obtiene las direcciones **MAC** de los dispositivos conectados.

![](/assets/images/DEAUTHER/hacker_2.png)


**3. El ataque.**

Utilizando herramientas como **aireplay-ng**, el atacante puede enviar un **frame de desautenticaci√≥n** personalizado al **AP**,haciendo que todos los dispositivos se desconecten.

![](/assets/images/DEAUTHER/hacker_3.png)


## NodeMCU ESP8266

![](/assets/images/DEAUTHER/NodeMCU-1.png)


Para llevar a cabo este ataque, vamos a necesitar una placa programable con el chip **ESP8266**. Este chip es peque√±o, econ√≥mico y permite conectar dispositivos a WiFi, ideal para proyectos de IoT como automatizaci√≥n o sensores. Pod√©s conseguir una placa de estas f√°cilmente en Mercado Libre por unos 360 pesos (aproximadamente 8,35 USD).

Ahora que ya sabemos que hardware necesitamos, pasemos al software. Vamos a utilizar el que ofrece el proyecto [Deauther](https://deauther.com/), espec√≠ficamente dise√±ado para este tipo de ataque.


## Cargamos el proyecto Deauther en la ESP8266.

---

Aqu√≠ te dejo la versi√≥n mejorada y estructurada de tu texto, manteniendo el l√©xico uruguayo y el formato .md:

---

## 1: Conexi√≥n de la ESP8266

Primero, lo que vamos a hacer es conectar nuestra **ESP8266**. En mi caso, la voy a conectar usando un **CP2102** (un adaptador que sirve para comunicarnos con microcontroladores). Pero, tranquilos, tambi√©n lo pueden hacer usando el puerto micro-USB o USB-C de la placa. üòé

![](/assets/images/DEAUTHER/board.jpg)

---

## 2: Identificar el puerto COM

Ahora, nos vamos a la PC y buscamos en qu√© puerto COM se conect√≥ la placa. La forma de identificarlo depende del sistema operativo.

### Para Windows

#### Ver dispositivos conectados (CMD)

Para listar los puertos COM disponibles en **Windows**, abrimos **cmd** y ejecutamos:

```bash
mode
```

Esto nos mostrar√° los **puertos serie activos** en el sistema.

#### Usar `wmic` para ver los puertos COM

Otra opci√≥n es usar el comando:

```bash
wmic path Win32_SerialPort get DeviceID,Name,Description
```

Este comando nos va a mostrar una lista de los **dispositivos serie** y sus **puertos COM** asignados. Por ejemplo:

```bash
DeviceID  Name                                Description
COM3      Silicon Labs CP210x UART Bridge    USB Serial Port (COM3)
```

#### Ver dispositivos USB conectados

Si con el m√©todo anterior no aparece nada, prob√° con:

```bash
wmic path Win32_PnPEntity where "Caption like '%(COM%)'" get Caption,DeviceID
```

Este comando muestra m√°s detalles de los dispositivos USB conectados a los puertos serie.

---

### Si usas Linux

En Linux, ejecut√°:

```bash
ls /dev/ttyUSB*
dmesg | grep tty
```

Esto te va a mostrar el puerto asignado, generalmente `/dev/ttyUSB0` o `/dev/ttyUSB1`.

---

## 3: Instalaci√≥n de **esptool**

Cuando ya tengamos el puerto COM identificado, vamos a instalar **esptool** (es importante tener **Python 3.x** en el sistema). Esta herramienta nos sirve para cargar el software del proyecto **Deauther**. Para instalarlo, ejecutamos:

```bash
pip install esptool
```

Una vez instalado **esptool**, abrimos **cmd** o la terminal y ejecutamos lo siguiente para borrar cualquier software o archivo que haya en la placa:

```bash
esptool --port puerto_com erase_flash
```

![](/assets/images/DEAUTHER/conectando_placa.png)

---

## 4: Instalaci√≥n del firmware de **Deauther**

Una vez que hayamos borrado la memoria de la placa, nos vamos al proyecto de [Deauther](https://deauther.com/docs/download/) y descargamos el **BINARIO (.bin)**. Ah√≠, seleccionamos la opci√≥n **NODEMCU** y luego hacemos click en **Just Download**. Esto nos descargar√° un archivo llamado: **esp8266_deauther_x.x.x_NODEMCU.bin**.

Una vez descargado, volvemos a **cmd** o nuestra terminal y ejecutamos:

```bash
esptool --port puerto_com --baud 115200 write_flash --flash_size=detect 0 archivo_bin_que_descargamos
```

![](/assets/images/DEAUTHER/save_2.png)


##  Ahora s√≠, lo divertido


Una vez que tengamos todo pronto, procederemos a desconectar y conectar la placa, esto con el fin de forzar un reset y todo quede pronto para usar.

Ahora, nos vamos a ir a nuestro tel√©fono o laptop y vemos que nos va a aparecer un punto de acceso (**AP**) llamado **"pwned"**, algo como esto: 

![](/assets/images/DEAUTHER/nets.jpg)


La contrase√±a por defecto es **"deauther"**, nos conectamos y nos vamos a nuestro navegador y ponemos [192.168.4.1](http://192.168.4.1/) nos saldr√° algo como esto:

![](/assets/images/DEAUTHER/home_page.jpg)

Le vamos a dar donde dice "I HAVE AND UNDERSTOOD THE NOTICE ABOVE", una vez dado click vamos a ver un panel como este: 

![](/assets/images/DEAUTHER/attack.jpg)


Ac√° es donde podemos seleccionar nuestra red para atacar, ahora nos iremos a la parte superior donde dice Attack y tendremos un men√∫ como este:

![](/assets/images/DEAUTHER/attack_menu.jpg)


Finalmente le damos donde dice Deauth **START**.

## Yyyy esto, funciona? 

...:

<video width="480" height="850" controls="controls">
  <source src="/assets/images/DEAUTHER/PoC.mp4" type="video/mp4">
</video>


## ¬øC√≥mo me puedo proteger de esto?
 

## **1. Usar WPA3 (o al menos WPA2 con PMF habilitado)**

**WPA3** es el est√°ndar m√°s reciente de seguridad en redes WiFi. Usa cifrados m√°s fuertes y protege contra ataques de desautenticaci√≥n haciendo **Management Frame Protection (MFP)**.

Si bien no todos los routers lo soportan, activarlo siempre es una buena opci√≥n para mejorar la seguridad de tu red. 

 **C√≥mo hacerlo**:
 
- Entra en la configuraci√≥n de tu router.
- Busca la opci√≥n **PMF** o **Protecci√≥n de tramas de gesti√≥n** y act√≠vala.

##  **3. Usar conexiones cableadas siempre que sea posible**

Los ataques de desautenticaci√≥n solo afectan dispositivos conectados por **WiFi**. Si usas un **cable Ethernet**, este tipo de ataque no te afectar√°.

##  **4. Cambiar el canal de tu WiFi**

Algunos ataques de deauth se enfocan en un canal espec√≠fico. Cambiar el canal de la red WiFi puede ayudar a evitar que el atacante siga enviando frames en el mismo espectro.

 **C√≥mo hacerlo**:
- Entr√° en la configuraci√≥n del router y cambia el canal WiFi manualmente.
- Us√° herramientas como **WiFi Analyzer** para ver que canales est√°n menos congestionados.

## 5. **Usar WiFi en 5GHz en lugar de 2.4GHz**

Muchos ataques de **Deauth** est√°n dise√±ados para redes **2.4GHz** porque es m√°s com√∫n y tiene mayor alcance. Si tu router y dispositivos soportan **5GHz**, cambiar a esta frecuencia puede hacer que el ataque no te afecte.

**Ventajas de 5GHz frente a 2.4GHz:**  
*  Menos interferencia de otros dispositivos.  
*  Mayor velocidad.  
*  Algunos atacantes no configuran sus herramientas para escanear en 5GHz.

**C√≥mo cambiar a 5GHz:**  
	1Ô∏è. Entra en la configuraci√≥n de tu router.  
	2Ô∏è. Busca la opci√≥n de **Banda o Frecuencia WiFi**.  
	3Ô∏è. Activa la red **5GHz** y usa un SSID (nombre de red) diferente al de 2.4GHz.  
	4Ô∏è. Conectate a la red **5GHz** en todos tus dispositivos.


¬°Gracias por leer! 

